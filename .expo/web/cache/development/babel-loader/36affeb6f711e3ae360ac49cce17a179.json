{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useEffect, useState } from 'react';\nimport { BASE_URL } from \"../../Constant\";\nimport { useSelector } from 'react-redux';\nimport Tag from \"./Tag/tag\";\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function TagList(_ref) {\n  var onChangeTag = _ref.onChangeTag,\n      onlyInterested = _ref.onlyInterested,\n      onlyAnimated = _ref.onlyAnimated;\n\n  var _useState = useState('all'),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentTag = _useState2[0],\n      setCurrentTag = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tagData = _useState4[0],\n      setTagData = _useState4[1];\n\n  var profile = useSelector(function (state) {\n    return state;\n  });\n\n  var getTagList = function _callee() {\n    var tags, data, key, _await$axios$get, _data;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(onlyInterested == true)) {\n              _context.next = 8;\n              break;\n            }\n\n            tags = profile.tags;\n            console.log(profile);\n            data = ['all'];\n\n            for (key in tags) {\n              data.push(tags[key]);\n            }\n\n            setTagData(data);\n            _context.next = 15;\n            break;\n\n          case 8:\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(axios.get(BASE_URL + \"/getTagList\"));\n\n          case 10:\n            _await$axios$get = _context.sent;\n            _data = _await$axios$get.data;\n            setTagData(_data.data);\n            setCurrentTag(_data.data[0]);\n            onChangeTag(_data.data[0]);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleTag = function handleTag(name) {\n    setCurrentTag(name);\n  };\n\n  useEffect(function () {\n    getTagList();\n  }, [profile]);\n\n  var Tags = function Tags() {\n    return tagData.map(function (tag, key) {\n      return _jsx(Tag, {\n        content: tag,\n        index: key,\n        currentTag: currentTag,\n        onChangeTag: onChangeTag,\n        setCurrentTag: handleTag,\n        onlyAnimated: onlyAnimated\n      }, key);\n    });\n  };\n\n  return _jsx(View, {\n    style: styles.container,\n    children: Tags()\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginBottom: 20,\n    justifyContent: \"flex-start\",\n    alignItems: 'stretch',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    borderRadius: 12\n  },\n  tag_active: {\n    backgroundColor: '#FFFFFF',\n    color: '#000000',\n    fontWeight: 600,\n    borderRadius: 14,\n    paddingLeft: 17,\n    paddingRight: 17,\n    paddingTop: 5,\n    paddingBottom: 5,\n    marginRight: 6\n  },\n  tag_normal: {\n    backgroundColor: 'rgba(255,255,255,0.1)',\n    color: '#FFFFFF',\n    fontWeight: 500,\n    borderRadius: 14,\n    paddingLeft: 17,\n    paddingRight: 17,\n    paddingTop: 5,\n    paddingBottom: 5,\n    marginRight: 6\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","BASE_URL","useSelector","Tag","axios","TagList","onChangeTag","onlyInterested","onlyAnimated","currentTag","setCurrentTag","tagData","setTagData","profile","state","getTagList","tags","console","log","data","key","push","get","handleTag","name","Tags","map","tag","styles","container","StyleSheet","create","marginBottom","justifyContent","alignItems","flexDirection","flexWrap","borderRadius","tag_active","backgroundColor","color","fontWeight","paddingLeft","paddingRight","paddingTop","paddingBottom","marginRight","tag_normal"],"sources":["E:/jsc/AwesomeProject/src/Components/TagList/tagList.tsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { View, StyleSheet, Animated, Image, TextInput, TouchableOpacity, Text, TouchableOpacityBase } from 'react-native';\r\nimport { useEffect, useState } from 'react';\r\nimport { BASE_URL, MockTags } from '../../Constant'\r\nimport { useSelector } from 'react-redux';\r\nimport Tag from './Tag/tag';\r\nimport axios from 'axios';\r\n\r\nexport default function TagList({ onChangeTag, onlyInterested, onlyAnimated}) {\r\n\r\n  const [currentTag, setCurrentTag] = useState('all');\r\n  const [tagData, setTagData] = useState([])\r\n  const profile = useSelector(state => state)\r\n\r\n  // Load tag from API\r\n  const getTagList = async () => {\r\n\r\n    if (onlyInterested == true) {\r\n      // Load Tags from Profile in Redux\r\n      const tags = profile.tags;\r\n      console.log(profile)\r\n      const data = ['all']\r\n      for (let key in tags) {\r\n        data.push(tags[key])\r\n      }\r\n      setTagData(data)\r\n    }\r\n    else {  // Load All Tags from API.\r\n      const { data } = await axios.get(BASE_URL + \"/getTagList\")\r\n      setTagData(data.data)\r\n      setCurrentTag(data.data[0])\r\n      onChangeTag(data.data[0])\r\n    }\r\n    \r\n  }\r\n\r\n  // Occurs when user select tag\r\n  const handleTag = (name) => {\r\n    setCurrentTag(name)\r\n  }\r\n  \r\n  useEffect(() => {\r\n    getTagList()\r\n  }, [profile])\r\n\r\n  const Tags = () => {\r\n    return tagData.map((tag, key) => {\r\n      return (\r\n        <Tag content={tag} index={key} currentTag={currentTag} onChangeTag={onChangeTag}\r\n             setCurrentTag={handleTag} onlyAnimated={onlyAnimated} key={key}/>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n      <View style={styles.container}>\r\n        {Tags()}  \r\n      </View>\r\n    )\r\n}\r\n\r\n// styles\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginBottom: 20,  \r\n    justifyContent: \"flex-start\",\r\n    alignItems: 'stretch',\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    borderRadius: 12,\r\n  },\r\n  tag_active: {\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#000000',\r\n    fontWeight: 600,\r\n    borderRadius: 14,\r\n    paddingLeft: 17,\r\n    paddingRight: 17,\r\n    paddingTop: 5,\r\n    paddingBottom: 5,\r\n    marginRight: 6,\r\n  },\r\n  tag_normal: {\r\n    backgroundColor: 'rgba(255,255,255,0.1)',\r\n    color: '#FFFFFF',\r\n    fontWeight: 500,\r\n    borderRadius: 14,\r\n    paddingLeft: 17,\r\n    paddingRight: 17,\r\n    paddingTop: 5,\r\n    paddingBottom: 5,\r\n    marginRight: 6,\r\n  }\r\n\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}